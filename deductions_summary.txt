–°–ü–ò–°–û–ö –§–£–ù–ö–¶–ò–ô –°–ü–ò–°–ê–ù–ò–Ø –î–ï–ù–ï–ì –°–û –°–ú–ï–ù–´
========================================

1. –°–ü–ò–°–ê–ù–ò–ï –†–ê–°–•–û–î–û–í (EXPENSE)
   
   –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è:
   - cmd_expense() [—Å—Ç—Ä–æ–∫–∞ 1743 - finmon_shift_wizard.py]
     –ó–∞–ø—É—Å–∫–∞–µ—Ç –¥–∏–∞–ª–æ–≥ —Å–ø–∏—Å–∞–Ω–∏—è —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –æ—Ç–∫—Ä—ã—Ç–æ–π —Å–º–µ–Ω—ã
   
   –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π:
   - expense_select_cash_source() [—Å—Ç—Ä–æ–∫–∞ 1785]
     –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–±–æ—Ä–∞ –∫–∞—Å—Å—ã (main/box)
   
   - expense_receive_amount() [—Å—Ç—Ä–æ–∫–∞ 1817]
     –ü–æ–ª—É—á–µ–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å—É–º–º—ã (> 0)
   
   - expense_receive_reason() [—Å—Ç—Ä–æ–∫–∞ 1849]
     –ü–æ–ª—É—á–µ–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–∏—á–∏–Ω—ã (1-200 —Å–∏–º–≤–æ–ª–æ–≤)
   
   - expense_confirm() [—Å—Ç—Ä–æ–∫–∞ 1883]
     –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î + —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤–ª–∞–¥–µ–ª—å—Ü–∞
   
   –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î:
   - ShiftManager.add_expense() [—Å—Ç—Ä–æ–∫–∞ 186 - shift_manager.py]
     INSERT INTO shift_expenses (shift_id, cash_source, amount, reason)


2. –°–ù–Ø–¢–ò–ï –ù–ê–õ–ò–ß–ù–´–•/–ó–ê–†–ü–õ–ê–¢–ê (WITHDRAWAL)
   
   –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è:
   - start_cash_withdrawal() [—Å—Ç—Ä–æ–∫–∞ 2428 - finmon_shift_wizard.py]
     –ó–∞–ø—É—Å–∫–∞–µ—Ç –¥–∏–∞–ª–æ–≥ —Å–Ω—è—Ç–∏—è —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∞–∫—Ç–∏–≤–Ω–æ–π —Å–º–µ–Ω—ã
   
   –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π:
   - receive_withdrawal_amount() [—Å—Ç—Ä–æ–∫–∞ 2470]
     –ü–æ–ª—É—á–µ–Ω–∏–µ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è —Å—É–º–º—ã (> 0)
   
   - handle_withdrawal_confirmation() [—Å—Ç—Ä–æ–∫–∞ 2518]
     –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î + —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
   
   –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î:
   - SalaryCalculator.record_cash_withdrawal() [—Å—Ç—Ä–æ–∫–∞ 384 - salary_calculator.py]
     INSERT INTO shift_cash_withdrawals (shift_id, admin_id, amount, reason)


3. –ö–ù–û–ü–ö–ò –ü–û–õ–¨–ó–û–í–ê–¢–ï–õ–¨–°–ö–û–ì–û –ò–ù–¢–ï–†–§–ï–ô–°–ê
   
   –í –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é [—Å—Ç—Ä–æ–∫–∞ 2237 - bot.py]:
   - "üí∏ –°–ø–∏—Å–∞—Ç—å —Å –∫–∞—Å—Å—ã" ‚Üí callback_data="shift_expense"
   - "üí∞ –í–∑—è—Ç—å –∑–∞—Ä–ø–ª–∞—Ç—É" ‚Üí callback_data="shift_salary"
   
   –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ [—Å—Ç—Ä–æ–∫–∏ 4770-4813 - bot.py]:
   - expense_handler (ConversationHandler)
   - withdrawal_handler (ConversationHandler)


4. –£–í–ï–î–û–ú–õ–ï–ù–ò–Ø –í–õ–ê–î–ï–õ–¨–¶–£
   
   –î–ª—è —Ä–∞—Å—Ö–æ–¥–æ–≤ [—Å—Ç—Ä–æ–∫–∏ 1914-1930 - finmon_shift_wizard.py]:
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç: —Å–º–µ–Ω–∞, –∫–ª—É–±, –∫–∞—Å—Å–∞, —Å—É–º–º–∞, –ø—Ä–∏—á–∏–Ω–∞, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
   
   –î–ª—è —Å–Ω—è—Ç–∏–π [—Å—Ç—Ä–æ–∫–∏ 2567-2580 - finmon_shift_wizard.py]:
   - –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç: –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä, –∫–ª—É–±, —Å–º–µ–Ω–∞, —Å—É–º–º–∞, –≤—Ä–µ–º—è


5. –¢–ê–ë–õ–ò–¶–´ –ë–î
   
   shift_expenses [add_shift_management.sql, —Å—Ç—Ä–æ–∫–∏ 16-25]:
   - id (PK)
   - shift_id (FK to active_shifts)
   - cash_source (main/box)
   - amount (REAL)
   - reason (TEXT)
   - created_at (TIMESTAMP)
   
   shift_cash_withdrawals [add_salary_system.sql, —Å—Ç—Ä–æ–∫–∏ 27-37]:
   - id (PK)
   - shift_id (FK to active_shifts)
   - admin_id (FK to admins)
   - amount (REAL)
   - reason (TEXT)
   - created_at (TIMESTAMP)


6. –°–û–°–¢–û–Ø–ù–ò–Ø –î–ò–ê–õ–û–ì–ê
   
   –†–∞—Å—Ö–æ–¥—ã [—Ñ–∏–Ω–º–æ–Ω_shift_wizard.py, —Å—Ç—Ä–æ–∫–∞ 61]:
   - EXPENSE_SELECT_CASH_SOURCE = 14
   - EXPENSE_ENTER_AMOUNT = 15
   - EXPENSE_ENTER_REASON = 16
   - EXPENSE_CONFIRM = 17
   
   –°–Ω—è—Ç–∏–µ [—Ñ–∏–Ω–º–æ–Ω_shift_wizard.py, —Å—Ç—Ä–æ–∫–∞ 64]:
   - WITHDRAWAL_ENTER_AMOUNT = 18
   - WITHDRAWAL_CONFIRM = 19


7. –ü–û–õ–£–ß–ï–ù–ò–ï –ò–ù–§–û–†–ú–ê–¶–ò–ò
   
   - ShiftManager.get_shift_expenses() [—Å—Ç—Ä–æ–∫–∞ 218]
   - ShiftManager.get_expenses_summary() [—Å—Ç—Ä–æ–∫–∞ 249]
   - SalaryCalculator.get_cash_withdrawals() [—Å—Ç—Ä–æ–∫–∞ 123]


–ö–õ–Æ–ß–ï–í–´–ï –§–ê–ô–õ–´:
- /opt/club_assistant/modules/finmon_shift_wizard.py (–æ—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å)
- /opt/club_assistant/modules/shift_manager.py (—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–º–µ–Ω–∞–º–∏ –∏ —Ä–∞—Å—Ö–æ–¥–∞–º–∏)
- /opt/club_assistant/modules/salary_calculator.py (—Ä–∞—Å—á–µ—Ç –∏ –∑–∞–ø–∏—Å—å —Å–Ω—è—Ç–∏–π)
- /opt/club_assistant/bot.py (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤)
- /opt/club_assistant/migrations/add_shift_management.sql (—Ç–∞–±–ª–∏—Ü–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤)
- /opt/club_assistant/migrations/add_salary_system.sql (—Ç–∞–±–ª–∏—Ü–∞ —Å–Ω—è—Ç–∏–π)
