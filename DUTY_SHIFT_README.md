# –°–∏—Å—Ç–µ–º–∞ —Å–º–µ–Ω –¥–µ–∂—É—Ä–Ω—ã—Ö (–ü—Ä–∞–≤—ã–π –ì–ª–∞–∑ / –õ–µ–≤—ã–π –ì–ª–∞–∑)

## –û–ø–∏—Å–∞–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–º–µ–Ω–∞–º–∏ –¥–µ–∂—É—Ä–Ω—ã—Ö —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —á–µ–∫-–ª–∏—Å—Ç–æ–º –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–ª—É–±–æ–≤ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–¥–∞—á–∏ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –º–µ–∂–¥—É –¥–µ–∂—É—Ä–Ω—ã–º–∏.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. –ì—Ä–∞—Ñ–∏–∫ –¥–µ–∂—É—Ä—Å—Ç–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç –¥–µ–∂—É—Ä–Ω–æ–≥–æ –ø–æ 4-–¥–Ω–µ–≤–Ω–æ–º—É —Ü–∏–∫–ª—É (2 –¥–Ω—è - –ü—Ä–∞–≤—ã–π –ì–ª–∞–∑, 2 –¥–Ω—è - –õ–µ–≤—ã–π –ì–ª–∞–∑)
- –°—Ç–∞—Ä—Ç –≥—Ä–∞—Ñ–∏–∫–∞: 15 –æ–∫—Ç—è–±—Ä—è 2025
- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–µ–∫—É—â–µ–≥–æ –¥–µ–∂—É—Ä–Ω–æ–≥–æ –∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –Ω–∞ 14 –¥–Ω–µ–π –≤–ø–µ—Ä–µ–¥

### 2. –ß–µ–∫-–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏

–†–∞–∑–¥–µ–ª–µ–Ω –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏:

#### üßπ –ß–∏—Å—Ç–æ—Ç–∞
- –ó–∞–ª —á–∏—Å—Ç—ã–π
- –¢—É–∞–ª–µ—Ç –≤ –ø–æ—Ä—è–¥–∫–µ (–±—É–º–∞–≥–∞, –º—ã–ª–æ)
- –ë–∞—Ä —É–±—Ä–∞–Ω
- –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã —á–∏—Å—Ç—ã–µ
- –ü–æ–ª —á–∏—Å—Ç—ã–π
- –ú—É—Å–æ—Ä –≤—ã–Ω–µ—Å–µ–Ω

#### üì± –°–æ—Ü—Å–µ—Ç–∏
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –í–ö
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¢–ì
- –û—Ç–≤–µ—Ç–∏—Ç—å –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ —à–∞–±–ª–æ–Ω—É

#### üìã –†–∞–±–æ—á–∏–µ –∑–∞–¥–∞—á–∏
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á –∑–∞ –¥–µ–Ω—å
- –ó–∞–ø–∏—Å–∞—Ç—å –Ω–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω–æ–µ

#### üåô –ù–æ—á–Ω–∞—è —Å–º–µ–Ω–∞
- –í—ã–∫–ª—é—á–∏—Ç—å –≤—Å–µ –∫–æ–º–ø—ã –∏ –º–æ–Ω–∏—Ç–æ—Ä—ã
- –í—ã–∫–ª—é—á–∏—Ç—å –∫–æ–Ω–¥–∏—Ü–∏–æ–Ω–µ—Ä—ã
- –í—ã–∫–ª—é—á–∏—Ç—å —Å–≤–µ—Ç
- –í–µ–Ω—Ç–∏–ª—è—Ü–∏—è –†–ò–û –≤ –Ω–æ—á–Ω–æ–π —Ä–µ–∂–∏–º

#### üí∞ –û—Ç—á—ë—Ç –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- –°–≤–µ—Ä–∏—Ç—å —Å—É–º–º—ã
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞—Å—Ö–æ–¥—ã —Å —á–µ–∫–∞–º–∏
- –ó–∞–ø–∏—Å–∞—Ç—å –Ω–∞–π–¥–µ–Ω–Ω—ã–µ –æ—à–∏–±–∫–∏

#### üè¢ –°–µ–≤–µ—Ä
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å–∏—Å—Ç–µ–º

#### ‚ö° –û–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –ü–ö
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–∏—Ñ–µ—Ä–∏—é (–º—ã—à–∏, –≥–∞—Ä–Ω–∏—Ç—É—Ä—ã, –≤–µ–±-–∫–∞–º–µ—Ä—ã)
- –ò–Ω—Ç–µ—Ä–Ω–µ—Ç —Å—Ç–∞–±–∏–ª–µ–Ω

#### üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–º–∫–∏
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–∞–º–µ—Ä—ã –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏—è

#### üì¶ –¢–æ–≤–∞—Ä—ã
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –æ—Å—Ç–∞—Ç–∫–∏ —Å–Ω–µ–∫–æ–≤ –∏ –Ω–∞–ø–∏—Ç–∫–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ä–æ–∫ –≥–æ–¥–Ω–æ—Å—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç–æ–≤

### 3. –ü–µ—Ä–µ–¥–∞—á–∞ —Å–º–µ–Ω—ã

–ü—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ —Å–º–µ–Ω—ã –¥–µ–∂—É—Ä–Ω—ã–π –º–æ–∂–µ—Ç –æ—Å—Ç–∞–≤–∏—Ç—å –∑–∞–º–µ—Ç–∫–∏ –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ:
- –ß—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –æ—Å–æ–±–æ–≥–æ –≤–Ω–∏–º–∞–Ω–∏—è
- –ö–∞–∫–∏–µ –∑–∞–¥–∞—á–∏ –æ—Å—Ç–∞–ª–∏—Å—å –Ω–µ–≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–º–∏
- –ß—Ç–æ –∞–¥–º–∏–Ω –æ–±–µ—â–∞–ª —Å–¥–µ–ª–∞—Ç—å
- –õ—é–±–∞—è –¥—Ä—É–≥–∞—è –≤–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### 4. –ö–æ–Ω—Ç–∞–∫—Ç—ã

–í –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Å–º–µ–Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è @username –¥–µ–∂—É—Ä–Ω–æ–≥–æ –¥–ª—è –ø—Ä—è–º–æ–π —Å–≤—è–∑–∏.

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –î–ª—è –¥–µ–∂—É—Ä–Ω—ã—Ö (–ü—Ä–∞–≤—ã–π –ì–ª–∞–∑ / –õ–µ–≤—ã–π –ì–ª–∞–∑)

1. **–û—Ç–∫—Ä—ã—Ç—å –º–µ–Ω—é —Å–º–µ–Ω—ã**:
   - –ù–∞–∂–∞—Ç—å `/start`
   - –í—ã–±—Ä–∞—Ç—å "üìã –ú–æ—è —Å–º–µ–Ω–∞ –¥–µ–∂—É—Ä–Ω–æ–≥–æ"

2. **–†–∞–±–æ—Ç–∞ —Å —á–µ–∫-–ª–∏—Å—Ç–æ–º**:
   - –í—ã–±—Ä–∞—Ç—å "‚úÖ –ß–µ–∫-–ª–∏—Å—Ç"
   - –í—ã–±—Ä–∞—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏—é
   - –û—Ç–º–µ—á–∞—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –ø—É–Ω–∫—Ç—ã

3. **–ü–µ—Ä–µ–¥–∞—á–∞ —Å–º–µ–Ω—ã**:
   - –í—ã–±—Ä–∞—Ç—å "üìù –û—Å—Ç–∞–≤–∏—Ç—å –∑–∞–º–µ—Ç–∫–∏ –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ"
   - –ù–∞–ø–∏—Å–∞—Ç—å –≤–∞–∂–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –¥–µ–∂—É—Ä–Ω–æ–≥–æ
   - –ó–∞–º–µ—Ç–∫–∏ –±—É–¥—É—Ç –≤–∏–¥–Ω—ã —Å–ª–µ–¥—É—é—â–µ–º—É –¥–µ–∂—É—Ä–Ω–æ–º—É

### –î–ª—è –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞ –∏ –≤–ª–∞–¥–µ–ª—å—Ü–∞

–î–æ—Å—Ç—É–ø –∫:
- **–ü–∞–Ω–µ–ª—å –±–æ–ª—å—à–æ–≥–æ –±—Ä–∞—Ç–∞**: –ø—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–º–µ–Ω –∞–¥–º–∏–Ω–æ–≤
- **–ì—Ä–∞—Ñ–∏–∫ –¥–µ–∂—É—Ä—Å—Ç–≤**: –ø—Ä–æ—Å–º–æ—Ç—Ä —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è –ü—Ä–∞–≤—ã–π –ì–ª–∞–∑ / –õ–µ–≤—ã–π –ì–ª–∞–∑
- **–ú–æ—è —Å–º–µ–Ω–∞ –¥–µ–∂—É—Ä–Ω–æ–≥–æ**: –¥–æ—Å—Ç—É–ø –∫ —Å–≤–æ–µ–º—É —á–µ–∫-–ª–∏—Å—Ç—É (–µ—Å–ª–∏ –¥–µ–∂—É—Ä–Ω—ã–π)

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü—ã

#### `duty_shifts`
- `id`: ID —Å–º–µ–Ω—ã
- `duty_person`: "–ü—Ä–∞–≤—ã–π –ì–ª–∞–∑" –∏–ª–∏ "–õ–µ–≤—ã–π –ì–ª–∞–∑"
- `user_id`: Telegram user_id –¥–µ–∂—É—Ä–Ω–æ–≥–æ
- `username`: @username –¥–ª—è —Å–≤—è–∑–∏
- `shift_date`: –î–∞—Ç–∞ —Å–º–µ–Ω—ã
- `started_at`: –í—Ä–µ–º—è –Ω–∞—á–∞–ª–∞
- `ended_at`: –í—Ä–µ–º—è –æ–∫–æ–Ω—á–∞–Ω–∏—è
- `handover_notes`: –ó–∞–º–µ—Ç–∫–∏ –ø—Ä–∏ –ø–µ—Ä–µ–¥–∞—á–µ
- `checklist_completed`: –ó–∞–≤–µ—Ä—à–µ–Ω –ª–∏ —á–µ–∫-–ª–∏—Å—Ç

#### `duty_checklist_items`
- `id`: ID –ø—É–Ω–∫—Ç–∞
- `category`: –ö–∞—Ç–µ–≥–æ—Ä–∏—è
- `item_text`: –¢–µ–∫—Å—Ç –ø—É–Ω–∫—Ç–∞
- `description`: –û–ø–∏—Å–∞–Ω–∏–µ
- `sort_order`: –ü–æ—Ä—è–¥–æ–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏
- `is_active`: –ê–∫—Ç–∏–≤–µ–Ω –ª–∏ –ø—É–Ω–∫—Ç
- `requires_photo`: –¢—Ä–µ–±—É–µ—Ç—Å—è –ª–∏ —Ñ–æ—Ç–æ

#### `duty_checklist_progress`
- `id`: ID –∑–∞–ø–∏—Å–∏
- `shift_id`: ID —Å–º–µ–Ω—ã
- `item_id`: ID –ø—É–Ω–∫—Ç–∞
- `checked`: –í—ã–ø–æ–ª–Ω–µ–Ω–æ –ª–∏
- `checked_at`: –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- `notes`: –ó–∞–º–µ—Ç–∫–∏
- `photo_file_id`: ID —Ñ–æ—Ç–æ (–µ—Å–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω–æ)

## –ú–∏–≥—Ä–∞—Ü–∏—è

–§–∞–π–ª –º–∏–≥—Ä–∞—Ü–∏–∏: `migrations/create_duty_shifts.sql`

–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ:
```bash
sqlite3 /opt/club_assistant/knowledge.db < /opt/club_assistant/migrations/create_duty_shifts.sql
```

## –§–∞–π–ª—ã

- `modules/duty_shift_manager.py`: –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–º–µ–Ω–∞–º–∏
- `modules/controller_panel.py`: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–∞–Ω–µ–ª—å—é –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä–∞
- `bot.py`: –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ –∏ –∫–Ω–æ–ø–æ–∫ –≤ –≥–ª–∞–≤–Ω–æ–º –º–µ–Ω—é
