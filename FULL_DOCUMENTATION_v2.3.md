# Club Assistant Bot v2.3 - –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è

## –ß—Ç–æ –Ω–æ–≤–æ–≥–æ –≤ v2.3

### 1. –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–Ω–∞–Ω–∏–π
‚úÖ –°—Ç–∞—Ä—ã–µ –æ—Ç–≤–µ—Ç—ã –Ω–µ —É–¥–∞–ª—è—é—Ç—Å—è, –∞ —É—Ö–æ–¥—è—Ç –≤ legacy
‚úÖ –ú–æ–∂–Ω–æ –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∏–∑–º–µ–Ω–µ–Ω–∏–π –ª—é–±–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞
‚úÖ –ö–æ–º–∞–Ω–¥–∞ `/history –≤–æ–ø—Ä–æ—Å` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ –≤–µ—Ä—Å–∏–∏

### 2. –°–∏—Å—Ç–µ–º–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
‚úÖ –ú–Ω–æ–≥–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
‚úÖ –†–æ–ª–∏: –æ–±—É—á–µ–Ω–∏–µ, –∏–º–ø–æ—Ä—Ç, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–æ–≤ —á–µ—Ä–µ–∑ –±–æ—Ç–∞
‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∫—Ç–æ –æ–±—É—á–∏–ª –±–æ—Ç–∞

### 3. –õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚úÖ –ö–∞–∂–¥—ã–π –∞–¥–º–∏–Ω –º–æ–∂–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å–≤–æ–∏ –ª–æ–≥–∏–Ω—ã/–ø–∞—Ä–æ–ª–∏
‚úÖ –ö–æ–º–∞–Ω–¥—ã `/savecreds` –∏ `/getcreds`
‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –ë–î (—Å–æ–æ–±—â–µ–Ω–∏—è —É–¥–∞–ª—è—é—Ç—Å—è)

### 4. Health Check
‚úÖ –ö–æ–º–∞–Ω–¥–∞ `/health` - –ø–æ–ª–Ω–∞—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ë–î, OpenAI API, GitHub, –ø–∞–º—è—Ç–∏, uptime

### 5. –£–ª—É—á—à–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
‚úÖ `/update` —Ç–µ–ø–µ—Ä—å –æ–±–Ω–æ–≤–ª—è–µ—Ç –í–°–Å –∏–∑ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
‚úÖ –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü–∞ `knowledge`
```sql
- id
- question
- answer  
- category
- tags
- source
- added_by (user_id –∫—Ç–æ –¥–æ–±–∞–≤–∏–ª)
- version (–Ω–æ–º–µ—Ä –≤–µ—Ä—Å–∏–∏)
- is_current (1 = –∞–∫—Ç—É–∞–ª—å–Ω–∞—è, 0 = legacy)
- created_at
- updated_at
```

### –¢–∞–±–ª–∏—Ü–∞ `admins`
```sql
- user_id (PRIMARY KEY)
- username
- full_name
- added_by
- can_teach (–º–æ–∂–µ—Ç –æ–±—É—á–∞—Ç—å)
- can_import (–º–æ–∂–µ—Ç –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å)
- can_manage_admins (–º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –∞–¥–º–∏–Ω–∞–º–∏)
- is_active
- created_at
```

### –¢–∞–±–ª–∏—Ü–∞ `admin_credentials`
```sql
- id
- user_id
- service (–Ω–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞)
- login
- password
- notes
- created_at
- updated_at
```

### –¢–∞–±–ª–∏—Ü–∞ `health_checks`
```sql
- id
- check_type
- status
- details
- checked_at
```

---

## –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

### –î–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- **–õ—é–±–æ–π –≤–æ–ø—Ä–æ—Å** - –ø–æ–ª—É—á–∏—Ç—å –æ—Ç–≤–µ—Ç
- `/start` - —Å–ø—Ä–∞–≤–∫–∞
- `/stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

#### –û–±—É—á–µ–Ω–∏–µ (–ø—Ä–∞–≤–æ: can_teach)
- `/learn —Ç–µ–∫—Å—Ç` - —É–º–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ
- `/history –≤–æ–ø—Ä–æ—Å` - –∏—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

#### –ò–º–ø–æ—Ä—Ç (–ø—Ä–∞–≤–æ: can_import)
- `/import` - –∏–º–ø–æ—Ä—Ç –∏–∑ CSV/JSONL
- –û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–∞–π–ª–∞ - –∞–≤—Ç–æ–∏–º–ø–æ—Ä—Ç

#### –õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (–≤—Å–µ –∞–¥–º–∏–Ω—ã)
- `/savecreds —Å–µ—Ä–≤–∏—Å –ª–æ–≥–∏–Ω –ø–∞—Ä–æ–ª—å [–∑–∞–º–µ—Ç–∫–∏]`
- `/getcreds [—Å–µ—Ä–≤–∏—Å]`

#### –°–∏—Å—Ç–µ–º–Ω—ã–µ (–≤—Å–µ –∞–¥–º–∏–Ω—ã)
- `/health` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
- `/forget —Å–ª–æ–≤–æ` - —É–¥–∞–ª–∏—Ç—å –∑–∞–ø–∏—Å–∏
- `/update` - –æ–±–Ω–æ–≤–∏—Ç—å —Å GitHub

#### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∞–º–∏ (—Ç–æ–ª—å–∫–æ –≥–ª–∞–≤–Ω—ã–π –∞–¥–º–∏–Ω)
- `/addadmin @username –ò–º—è_–§–∞–º–∏–ª–∏—è [–ø—Ä–∞–≤–∞]`
- `/listadmins` - —Å–ø–∏—Å–æ–∫ –∞–¥–º–∏–Ω–æ–≤
- `/rmadmin user_id` - —É–¥–∞–ª–∏—Ç—å –∞–¥–º–∏–Ω–∞

---

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

**–°—Ü–µ–Ω–∞—Ä–∏–π:** –ü–∞—Ä–æ–ª—å –æ—Ç BIOS –∏–∑–º–µ–Ω–∏–ª—Å—è

```
–ê–¥–º–∏–Ω1: /learn –ü–∞—Ä–æ–ª—å –æ—Ç BIOS: admin123
–ë–æ—Ç: –ó–∞–ø–æ–º–Ω–∏–ª!

[–ß–µ—Ä–µ–∑ –º–µ—Å—è—Ü –ø–∞—Ä–æ–ª—å –º–µ–Ω—è—é—Ç]

–ê–¥–º–∏–Ω2: /learn –ü–∞—Ä–æ–ª—å –æ—Ç BIOS: newpass456
–ë–æ—Ç: –ó–∞–ø–æ–º–Ω–∏–ª!

–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: –ø–∞—Ä–æ–ª—å –æ—Ç –±–∏–æ—Å?
–ë–æ—Ç: newpass456

–ê–¥–º–∏–Ω: /history –ü–∞—Ä–æ–ª—å –æ—Ç BIOS?
–ë–æ—Ç: –ò—Å—Ç–æ—Ä–∏—è: '–ü–∞—Ä–æ–ª—å –æ—Ç BIOS?'

     v2 (–∞–∫—Ç—É–∞–ª—å–Ω—ã–π)
     –û—Ç–≤–µ—Ç: newpass456
     –°–æ–∑–¥–∞–Ω: 2025-02-15
     –ê–≤—Ç–æ—Ä: 987654321

     v1 (legacy)
     –û—Ç–≤–µ—Ç: admin123
     –°–æ–∑–¥–∞–Ω: 2025-01-15
     –ê–≤—Ç–æ—Ä: 123456789
```

### 2. –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞

```
–ì–ª–∞–≤–Ω—ã–π–ê–¥–º–∏–Ω: /addadmin @ivan –ò–≤–∞–Ω_–ü–µ—Ç—Ä–æ–≤ teach,import
–ë–æ—Ç: –î–æ–±–∞–≤–∏—Ç—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞?

     Username: @ivan
     –ò–º—è: –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤
     –ü—Ä–∞–≤–∞:
       ‚Ä¢ –û–±—É—á–µ–Ω–∏–µ: –¥–∞
       ‚Ä¢ –ò–º–ø–æ—Ä—Ç: –¥–∞
       ‚Ä¢ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –Ω–µ—Ç

     –î–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø—É—Å—Ç—å @ivan –Ω–∞–ø–∏—à–µ—Ç –±–æ—Ç—É:
     /confirmadmin

[–ò–≤–∞–Ω –ø–∏—à–µ—Ç –±–æ—Ç—É]
–ò–≤–∞–Ω: /confirmadmin
–ë–æ—Ç: –í—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä!

     –í–∞—à–∏ –ø—Ä–∞–≤–∞:
     ‚Ä¢ –û–±—É—á–µ–Ω–∏–µ –±–æ—Ç–∞ (/learn)
     ‚Ä¢ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ (/stats)
```

### 3. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–∏—á–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

```
–ê–¥–º–∏–Ω: /savecreds auth_panel admin pass123 –î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω–∫–µ
–ë–æ—Ç: –î–∞–Ω–Ω—ã–µ –¥–ª—è 'auth_panel' —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
[–°–æ–æ–±—â–µ–Ω–∏–µ —É–¥–∞–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏]

[–ü–æ–∑–∂–µ]
–ê–¥–º–∏–Ω: /getcreds auth_panel
–ë–æ—Ç: –í–∞—à–∏ —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:

     –°–µ—Ä–≤–∏—Å: auth_panel
     –õ–æ–≥–∏–Ω: admin
     –ü–∞—Ä–æ–ª—å: pass123
     –ó–∞–º–µ—Ç–∫–∏: –î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω–∫–µ
     –°–æ–∑–¥–∞–Ω–æ: 2025-02-15 14:30
```

### 4. Health Check

```
–ê–¥–º–∏–Ω: /health
–ë–æ—Ç: –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è –±–æ—Ç–∞:

     ‚úÖ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: OK
        156 –∑–∞–ø–∏—Å–µ–π

     ‚úÖ OpenAI API: OK
        –î–æ—Å—Ç—É–ø–µ–Ω

     ‚úÖ GitHub: OK
        https://github.com/user/repo.git

     ‚úÖ –ü–∞–º—è—Ç—å: OK
        87.3 MB

     ‚úÖ Uptime: OK
        48.2 —á–∞—Å–æ–≤
```

### 5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å GitHub

```
–ê–¥–º–∏–Ω: /update
–ë–æ—Ç: –û–±–Ω–æ–≤–ª—è—é —Å GitHub...

–ë–æ—Ç: –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ!

     –ò–∑–º–µ–Ω–µ–Ω–∏—è:
     Updating abc123..def456
     Fast-forward
      bot.py | 45 ++++++++++++++++++++++++++++++
      1 file changed, 45 insertions(+)

     –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—é –±–æ—Ç–∞...

[–ë–æ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏]
```

---

## –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

### –†–æ–ª–∏ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤

#### 1. –ì–ª–∞–≤–Ω—ã–π –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä (–∏–∑ config.json)
- –í—Å–µ –ø—Ä–∞–≤–∞
- –ú–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –¥—Ä—É–≥–∏–º–∏ –∞–¥–º–∏–Ω–∞–º–∏
- –ú–æ–∂–µ—Ç –Ω–∞–∑–Ω–∞—á–∞—Ç—å –ª—é–±—ã–µ –ø—Ä–∞–≤–∞

#### 2. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å –ø—Ä–∞–≤–æ–º "teach"
- –ú–æ–∂–µ—Ç –æ–±—É—á–∞—Ç—å –±–æ—Ç–∞ (`/learn`)
- –ú–æ–∂–µ—Ç —Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å—Ç–æ—Ä–∏—é (`/history`)
- –ú–æ–∂–µ—Ç —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ (`/savecreds`)
- –ù–ï –º–æ–∂–µ—Ç –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å
- –ù–ï –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –∞–¥–º–∏–Ω–∞–º–∏

#### 3. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å –ø—Ä–∞–≤–æ–º "import"
- –í—Å–µ –ø—Ä–∞–≤–∞ "teach"
- –ú–æ–∂–µ—Ç –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ (`/import`)
- –ù–ï –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –∞–¥–º–∏–Ω–∞–º–∏

#### 4. –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å –ø—Ä–∞–≤–æ–º "manage"
- –í—Å–µ –ø—Ä–∞–≤–∞ "import"
- –ú–æ–∂–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å/—É–¥–∞–ª—è—Ç—å –∞–¥–º–∏–Ω–æ–≤
- –ü–æ–ª–Ω—ã–µ –ø—Ä–∞–≤–∞ (–∫–∞–∫ –≥–ª–∞–≤–Ω—ã–π –∞–¥–º–∏–Ω)

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

### –ü–µ—Ä–≤–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
cd /opt/club_assistant

# 1. –ó–∞–º–µ–Ω–∏—Ç–µ bot.py –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–µ–π v2.3
# 2. –û–±–Ω–æ–≤–∏—Ç–µ requirements.txt

# 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
source venv/bin/activate
pip install -r requirements.txt

# 4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ
systemctl restart club_assistant

# 5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ
systemctl status club_assistant
```

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ GitHub

```bash
# –ó–∞–ª–µ–π—Ç–µ v2.3 –Ω–∞ GitHub
cd /opt/club_assistant
git add bot.py requirements.txt
git commit -m "v2.3: –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ, –∞–¥–º–∏–Ω—ã, –ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, health check"
git push origin main

# –í Telegram –±–æ—Ç—É
/update

# –ë–æ—Ç –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
```

---

## –ú–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–ï—Å–ª–∏ —É –≤–∞—Å —É–∂–µ –µ—Å—Ç—å –ë–î –±–µ–∑ –Ω–æ–≤—ã—Ö –ø–æ–ª–µ–π:

```bash
cd /opt/club_assistant

# –°–¥–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø
cp knowledge.db knowledge.db.backup

# –ó–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞ - –æ–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É
systemctl restart club_assistant
```

–ò–ª–∏ –≤—Ä—É—á–Ω—É—é:

```sql
-- –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–µ –ø–æ–ª—è –≤ knowledge
ALTER TABLE knowledge ADD COLUMN tags TEXT DEFAULT '';
ALTER TABLE knowledge ADD COLUMN source TEXT DEFAULT '';
ALTER TABLE knowledge ADD COLUMN added_by INTEGER;
ALTER TABLE knowledge ADD COLUMN version INTEGER DEFAULT 1;
ALTER TABLE knowledge ADD COLUMN is_current BOOLEAN DEFAULT 1;

-- –°–æ–∑–¥–∞—ë–º –∏–Ω–¥–µ–∫—Å
CREATE INDEX IF NOT EXISTS idx_current ON knowledge(is_current);

-- –°–æ–∑–¥–∞—ë–º —Ç–∞–±–ª–∏—Ü—É –∞–¥–º–∏–Ω–æ–≤
CREATE TABLE IF NOT EXISTS admins (
    user_id INTEGER PRIMARY KEY,
    username TEXT,
    full_name TEXT,
    added_by INTEGER,
    can_teach BOOLEAN DEFAULT 1,
    can_import BOOLEAN DEFAULT 0,
    can_manage_admins BOOLEAN DEFAULT 0,
    is_active BOOLEAN DEFAULT 1,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

-- –°–æ–∑–¥–∞—ë–º —Ç–∞–±–ª–∏—Ü—É credentials
CREATE TABLE IF NOT EXISTS admin_credentials (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    user_id INTEGER NOT NULL,
    service TEXT NOT NULL,
    login TEXT,
    password TEXT,
    notes TEXT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES admins(user_id)
);

-- –°–æ–∑–¥–∞—ë–º —Ç–∞–±–ª–∏—Ü—É health_checks
CREATE TABLE IF NOT EXISTS health_checks (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    check_type TEXT,
    status TEXT,
    details TEXT,
    checked_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

---

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∞–¥–º–∏–Ω–æ–≤

‚ö†Ô∏è **–í–ê–ñ–ù–û:** –ü–∞—Ä–æ–ª–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –æ—Ç–∫—Ä—ã—Ç–æ–º –≤–∏–¥–µ –≤ –ë–î!

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:**
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏ (–Ω–µ –æ—Å–Ω–æ–≤–Ω—ã–µ)
2. –†–µ–≥—É–ª—è—Ä–Ω–æ –º–µ–Ω—è–π—Ç–µ –ø–∞—Ä–æ–ª–∏
3. –û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–µ—Ä—É
4. –î–µ–ª–∞–π—Ç–µ –±—ç–∫–∞–ø—ã –ë–î –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –º–µ—Å—Ç–æ

**TODO (–±—É–¥—É—â–∏–µ –≤–µ—Ä—Å–∏–∏):**
- –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π –≤ –ë–î
- 2FA –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –±–æ—Ç—É
- Audit log –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π

### –ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

- –¢–æ–ª—å–∫–æ –≥–ª–∞–≤–Ω—ã–π –∞–¥–º–∏–Ω –º–æ–∂–µ—Ç —É–ø—Ä–∞–≤–ª—è—Ç—å –¥—Ä—É–≥–∏–º–∏ –∞–¥–º–∏–Ω–∞–º–∏
- –°–æ–æ–±—â–µ–Ω–∏—è —Å –ø–∞—Ä–æ–ª—è–º–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É–¥–∞–ª—è—é—Ç—Å—è
- –ö–∞–∂–¥–æ–µ –¥–µ–π—Å—Ç–≤–∏–µ –ª–æ–≥–∏—Ä—É–µ—Ç—Å—è —Å user_id

---

## –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ë–æ—Ç –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏
journalctl -u club_assistant -n 100

# –ß–∞—Å—Ç—ã–µ –ø—Ä–∏—á–∏–Ω—ã:
# 1. –ù–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω psutil
pip install psutil

# 2. –û—à–∏–±–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
cp knowledge.db.backup knowledge.db
systemctl restart club_assistant
```

### "–ù–µ—Ç –ø—Ä–∞–≤ –¥–ª—è –æ–±—É—á–µ–Ω–∏—è"

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—ã –≤ —Å–ø–∏—Å–∫–µ –∞–¥–º–∏–Ω–æ–≤
sqlite3 /opt/club_assistant/knowledge.db
SELECT * FROM admins;

# –ï—Å–ª–∏ –Ω–µ—Ç - –¥–æ–±–∞–≤—å—Ç–µ —á–µ—Ä–µ–∑ –≥–ª–∞–≤–Ω–æ–≥–æ –∞–¥–º–∏–Ω–∞
# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ SQL
```

### /health –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏

- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö FAIL** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ permissions –Ω–∞ knowledge.db
- **OpenAI API FAIL** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–ª—é—á –≤ config.json
- **GitHub WARNING** - –¥–æ–±–∞–≤—å—Ç–µ github_repo –≤ config

---

## Changelog

### v2.3 (—Ç–µ–∫—É—â–∞—è)
- ‚úÖ –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–Ω–∞–Ω–∏–π (legacy)
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤ —Å –ø—Ä–∞–≤–∞–º–∏
- ‚úÖ –õ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∞–¥–º–∏–Ω–æ–≤
- ‚úÖ Health check
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–≤–µ—Å—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π)
- ‚úÖ –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∞–≤—Ç–æ—Ä—Å—Ç–≤–∞

### v2.2
- ‚úÖ –ú–∞—Å—Å–æ–≤—ã–π –∏–º–ø–æ—Ä—Ç CSV/JSONL
- ‚úÖ –£–±—Ä–∞–Ω—ã –ª–∏—à–Ω–∏–µ —Å–º–∞–π–ª–∏–∫–∏
- ‚úÖ –ö–æ—Ä–æ—Ç–∫–∏–µ –æ—Ç–≤–µ—Ç—ã GPT

### v2.1
- ‚úÖ –†–∞–±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø–∞—Ö (—Ç–æ–ª—å–∫–æ –Ω–∞ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è)
- ‚úÖ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å GitHub

### v2.0
- ‚úÖ –£–º–Ω–æ–µ –æ–±—É—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ GPT
- ‚úÖ –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π SQLite

### v1.0
- ‚úÖ –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

---

## Roadmap (–±—É–¥—É—â–∏–µ –≤–µ—Ä—Å–∏–∏)

### v2.4
- [ ] –®–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π –∞–¥–º–∏–Ω–æ–≤
- [ ] –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π audit log
- [ ] –≠–∫—Å–ø–æ—Ä—Ç –∑–Ω–∞–Ω–∏–π –≤ CSV/JSONL
- [ ] –ü–æ–∏—Å–∫ –ø–æ —Ç–µ–≥–∞–º

### v2.5
- [ ] Web-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- [ ] API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π
- [ ] –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- [ ] Backup/restore —á–µ—Ä–µ–∑ –±–æ—Ç–∞

---

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –Ω–∞—à–ª–∏ –±–∞–≥ - –æ–±–Ω–æ–≤–∏—Ç–µ –∫–æ–¥ –Ω–∞ GitHub –∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `/update`!

**–ì–æ—Ç–æ–≤ –∫ production –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é! üöÄ**
